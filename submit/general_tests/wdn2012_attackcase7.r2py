"""
Attack 7: removefile() should be entirely disallowed.
Expected secure behavior: any removefile must raise an error.
This test logs ONLY if removal is wrongly allowed.
"""

# Create a file and try to remove it
try:
    f = openfile("wdn2012_t7", True)
    try:
        f.writeat("x", 0)
    except Exception:
        pass
    try:
        f.close()
    except Exception:
        pass
except Exception:
    pass

try:
    # If this does not raise, then deletion was allowed (incorrect)
    removefile("wdn2012_t7")
    log("EXPLOIT: removefile allowed (deletion should be forbidden)")
except Exception:
    pass


