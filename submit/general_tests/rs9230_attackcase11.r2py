# Test Case 11: Test edge case with dots in filename
# Files like "my.file.txt" should be handled correctly, not confused with versions

# Create file with dots
f1 = openfile("my.config.txt", True)
f1.writeat("config1", 0)
f1.close()

# Create another version
f2 = openfile("my.config.txt", True)
f2.writeat("config2", 0)
f2.close()

# Check files created
files = listfiles()

# Should have created my.config.txt.v1, not my.config.v1.txt or similar
version_exists = False
for f in files:
    if "my.config.txt.v" in f:
        version_exists = True
        # Make sure version number is at the end
        parts = f.split(".v")
        if len(parts) == 2 and parts[1].isdigit():
            continue
        else:
            log("ATTACK SUCCESSFUL: Incorrect version naming with dots: " + f + "\n")
            exitall()

if not version_exists:
    log("ATTACK SUCCESSFUL: No version file created for dotted filename\n")
    exitall()

log("Test passed - dotted filenames handled correctly\n")