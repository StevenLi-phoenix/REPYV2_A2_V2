# Calling openfile with create=False and version older than the current one and try to read it should be fine.

f1 = openfile("testfile", True)

# Write initial content at offset 0.
f1.writeat("Held3456", 0)

# Close the file to finalize the first version's contents.
f1.close()

#Call openfile, version 1 should be created
f2 = openfile("testfile", True)

#Write new content into file
f2.writeat("HelloWorldHello", 0)

# Close the file to finalize the first version's contents.
f2.close()

#Opening current version and reading it should be fine
f3 = openfile("testfile.v1", False)

assert f3.readat(None, 0) == "HelloWorldHello"

f3.close()

#Call openfile with original file name and create False and read it -> should be fine
f4 = openfile("testfile", False)

assert f4.readat(None, 0) == "Held3456"

f4.close()


